import{VlElement,define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";export class VlRichDataField extends(VlElement(HTMLElement)){static get headerAttributes(){return["name","label","sortable","sorting-direction","sorting-priority"]}static get bodyAttributes(){return["selector"]}static get _observedAttributes(){return this.headerAttributes.concat(this.bodyAttributes)}static get is(){return"vl-rich-data-field"}__valueTemplate(t){return this.selector?this.selector.split(".").reduce((t,e)=>t?t[e]:null,t):this.__template(`${this.querySelector('template[slot="content"]').innerHTML}`,t)}renderCellHeader(){let t=this.label||`${this.querySelector('template[slot="label"]').innerHTML}`;if(this.sortable){const e=this.sortingDirection?`data-vl-direction="${this.sortingDirection}"`:"",r=this.sortingPriority?`data-vl-priority="${this.sortingPriority}"`:"";return t+=`<vl-rich-data-sorter data-vl-for="${this.name}" ${e} ${r}></vl-rich-data-sorter>`,`<th data-vl-sortable><a>${t}</a></th>`}return`<th>${t}</th>`}renderCellValue(t){const e=this.__valueTemplate(t);return`<td${this.label?` data-title="${this.label}"`:""}>${e}</td>`}__template(t,e){return((t,e)=>new Function("item","return `"+t+"`")(e)).call(this,t,e)}get name(){return this.dataset.vlName}get selector(){return this.dataset.vlSelector}get label(){return this.dataset.vlLabel}get sortable(){return void 0!==this.dataset.vlSortable}get sortingDirection(){return this.dataset.vlSortingDirection}get sortingPriority(){return this.dataset.vlSortingPriority}_nameChangedCallback(t,e){t!==e&&this._changed(["name"])}_selectorChangedCallback(t,e){t!==e&&this._changed(["selector"])}_labelChangedCallback(t,e){t!==e&&this._changed(["label"])}_sortableChangedCallback(t,e){t!==e&&this._changed(["sortable"])}_sorting_directionChangedCallback(t,e){t!==e&&this._changed(["sorting-direction"])}_sorting_priorityChangedCallback(t,e){t!==e&&this._changed(["sorting-priority"])}_changed(t){this.dispatchEvent(new CustomEvent("change",{detail:{properties:t}}))}}define(VlRichDataField.is,VlRichDataField);
