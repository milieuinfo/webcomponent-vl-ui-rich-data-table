<!DOCTYPE html>
<html>
	<head>
        <title>vl-rich-data-table voorbeeld</title>
        <script type="module" src="demo.js"></script>
        <script type="module" src="/src/vl-rich-data-table.js"></script>
        <script type="module" src="/node_modules/vl-ui-pager/dist/vl-pager.js"></script>
        <link rel="stylesheet" type="text/css" href="/node_modules/vl-ui-core/dist/style.css"/>
    </head>

	<body>
        <h1>vl-ui-rich-data-table demo</h1>
        <div>
            <h2>Basis rich data table</h2>
            <pre>
                <code class="line-numbers language-markup">
                    &lt;vl-rich-data-table data-vl-data=&apos;[{&quot;id&quot;: 0, &quot;name&quot;: &quot;Project #1&quot;}, {&quot;id&quot;: 1, &quot;name&quot;: &quot;Project #2&quot;}]&apos;&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;ID&quot; data-vl-selector=&quot;id&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;Naam&quot; data-vl-selector=&quot;name&quot;&gt;&lt;/vl-rich-data-field&gt;
                    &lt;/vl-rich-data-table&gt;
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table data-vl-data='[{"id": 0, "name": "Project #1"}, {"id": 1, "name": "Project #2"}]'>
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
                </vl-rich-data-table>
            </div>
        </div>

        <h1>vl-ui-rich-data-table met search filterdemo</h1>
        <div>
            <h2>Basis rich data table</h2>
            <pre>
                <code class="line-numbers language-markup">

                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table data-vl-data='[{"id": 0, "name": "Project #1"}, {"id": 1, "name": "Project #2"}]' data-vl-filter-title="Verfijn uw zoekopdracht">
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
                    <div slot="filter">
                        <label>a:</label>
                        <input type="text" />
                    </div>
                </vl-rich-data-table>
            </div>
        </div>

        <h1>vl-ui-rich-data-table pagina</h1>
        <div>
            <h2>Basis rich data table</h2>
            <pre>
                <code class="line-numbers language-markup">
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table id="rich-data-table-paging">
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
					<vl-pager id="rich-data-table-paging-pager" slot="pager" total-items="20" items-per-page="5" current-page="1" align-center></vl-pager>
                </vl-rich-data-table>
            </div>
            <script>
            	customElements.whenDefined('vl-rich-data-table').then(() => {
	            	const richDataTablePagingData = [];
	            	for (let i = 1; i <= 20; i++) {
	            		richDataTablePagingData.push({"id": i, "name": `Project #${i}`})
	            	}
            	
					function page(page, itemsPerPage, data) {
						const start = (page - 1) * itemsPerPage;
						const end = start + itemsPerPage;
						return data.slice(start, end);
					}	
					
					const richDataTablePaging = document.querySelector("#rich-data-table-paging");
					richDataTablePaging.data = page(1, 5, richDataTablePagingData);
					richDataTablePaging.addEventListener('change', (e) => {
    	        		const newPage = page(e.detail.paging.currentPage, e.detail.paging.itemsPerPage, richDataTablePagingData);
        	    		console.log(newPage[0]);
            			richDataTablePaging.data = newPage;
            		});
            	});
            
            </script>
        </div>

    </body>
</html>
