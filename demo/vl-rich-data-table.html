<!DOCTYPE html>
<html>
	<head>
        <title>vl-rich-data-table voorbeeld</title>
        <script type="module" src="demo.js"></script>
        <script type="module" src="/src/vl-rich-data-table.js"></script>
        <script type="module" src="/node_modules/vl-ui-pager/dist/vl-pager.js"></script>
        <script type="module" src="/node_modules/vl-ui-input-field/dist/vl-input-field.js"></script>
        <link rel="stylesheet" type="text/css" href="/node_modules/vl-ui-input-field/dist/style.css"/>
        <link rel="stylesheet" type="text/css" href="/node_modules/vl-ui-core/dist/style.css"/>
    </head>

	<body>
        <h1>vl-ui-rich-data-table demo</h1>
        <div>
            <h2>Basis rich data table</h2>
            <pre>
                <code class="line-numbers language-markup">
	                &lt;vl-rich-data-table id=&quot;rich-data-table&quot; data-vl-data=&apos;[{&quot;id&quot;: 0, &quot;name&quot;: &quot;Project #1&quot;, &quot;manager&quot;: {&quot;firstName&quot;: &quot;Pascal&quot;, &quot;lastName&quot;: &quot;Riquier&quot;}, &quot;medewerkers&quot;: [{&quot;firstName&quot;: &quot;Sander&quot;, &quot;lastName&quot;: &quot;Kleykens&quot;}]},
                    &#x9;{&quot;id&quot;: 1, &quot;name&quot;: &quot;Project #2&quot;, &quot;manager&quot;: {&quot;firstName&quot;: &quot;Tom&quot;, &quot;lastName&quot;: &quot;Coemans&quot;}, &quot;medewerkers&quot;: [{&quot;firstName&quot;: &quot;Guy&quot;, &quot;lastName&quot;: &quot;Wauters&quot;}]}]&apos;&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;ID&quot; data-vl-selector=&quot;id&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;Naam&quot; data-vl-selector=&quot;name&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;Naam manager&quot; data-vl-selector=&quot;manager.lastName&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-label=&quot;Eerste medewerker&quot; data-vl-selector=&quot;medewerkers.0.lastName&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field&gt;
                            &lt;template slot=&quot;label&quot;&gt;
                                &lt;span style=&quot;font-weight: normal&quot;&gt;Project o.l.v.&lt;/span&gt; &lt;strong&gt;manager&lt;/strong&gt;
                            &lt;/template&gt;
                            &lt;template slot=&quot;content&quot;&gt;
                                &lt;span&gt;${item.name}&lt;/span&gt; o.l.v. &lt;strong&gt;${item.manager.firstName} ${item.manager.lastName}&lt;/strong&gt;
                            &lt;/template&gt;
                        &lt;/vl-rich-data-field&gt;
                    &lt;/vl-rich-data-table&gt;
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table id="rich-data-table" data-vl-data='[{"id": 0, "name": "Project #1", "manager": {"firstName": "Pascal", "lastName": "Riquier"}, "medewerkers": [{"firstName": "Sander", "lastName": "Kleykens"}]}, 
                	{"id": 1, "name": "Project #2", "manager": {"firstName": "Tom", "lastName": "Coemans"}, "medewerkers": [{"firstName": "Guy", "lastName": "Wauters"}]}]'>
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam manager" data-vl-selector="manager.lastName"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Eerste medewerker" data-vl-selector="medewerkers.0.lastName"></vl-rich-data-field>
                    <vl-rich-data-field>
                        <template slot="label">
                            <span style="font-weight: normal">Project o.l.v.</span> <strong>manager</strong>
                        </template>
                        <template slot="content">
                            <span>${item.name}</span> o.l.v. <strong>${item.manager.firstName} ${item.manager.lastName}</strong>
                        </template>
                    </vl-rich-data-field>
                </vl-rich-data-table>
            </div>
        </div>

        <div>
            <h2>Rich data table met search filter</h2>
            <pre>
                <code class="line-numbers language-markup">

                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table data-vl-data='[{"id": 0, "name": "Project #1"}, {"id": 1, "name": "Project #2"}]' data-vl-filter-title="Verfijn uw zoekopdracht">
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
                    <div slot="filter">
                        <section>
                            <h2>Gegevens</h2>
                            <div>
                              <label is="form-label" for="filterOpId">Id</label>
                              <input is="vl-input-field" type="text" id="filterOpId" name="kolomId" value="" block/>
                            </div>
                            <div>
                              <label is="form-label" for="filterOpNaam">Naam</label>
                              <input is="vl-input-field" type="text" id="filterOpNaam" name="kolomNaam" value="" block/>
                            </div>
                          </section>
                    </div>
                </vl-rich-data-table>
                <button id='button1'>clickme</button>
            </div>
        </div>

        
        <script>
            document.querySelector('#button1').addEventListener('click', (e) => {
                const filterContent = document.querySelector('[slot="filter"]');
                debugger;
                filterContent.innerHTML=' <input is="vl-input-field" type="text" id="filterOpId2" name="kolomId" value="" block/>';
                debugger;
            });

        </script>

        <div>
            <h2>Rich data table met paginering</h2>
            <pre>
                <code class="line-numbers language-markup">
	                &lt;vl-rich-data-table id=&quot;rich-data-table-paging&quot;&gt;
	                    &lt;vl-rich-data-field data-vl-label=&quot;ID&quot; data-vl-selector=&quot;id&quot;&gt;&lt;/vl-rich-data-field&gt;
	                    &lt;vl-rich-data-field data-vl-label=&quot;Naam&quot; data-vl-selector=&quot;name&quot;&gt;&lt;/vl-rich-data-field&gt;
						&lt;vl-pager id=&quot;rich-data-table-paging-pager&quot; slot=&quot;pager&quot; total-items=&quot;20&quot; items-per-page=&quot;5&quot; current-page=&quot;1&quot; align-center&gt;&lt;/vl-pager&gt;
	                &lt;/vl-rich-data-table&gt;
		            &lt;script&gt;
	    	        	customElements.whenDefined('vl-rich-data-table').then(() =&gt; {
		    	        	const richDataTablePagingData = [];
		        	    	for (let i = 1; i &lt;= 20; i++) {
		            			richDataTablePagingData.push({&quot;id&quot;: i, &quot;name&quot;: `Project #${i}`})
		            		}
	            	
							function page(page, itemsPerPage, data) {
								const start = (page - 1) * itemsPerPage;
								const end = start + itemsPerPage;
								return data.slice(start, end);
							}	
						
							const richDataTablePaging = document.querySelector(&quot;#rich-data-table-paging&quot;);
							richDataTablePaging.data = page(1, 5, richDataTablePagingData);
							richDataTablePaging.addEventListener('change', (e) =&gt; {
	    	    	    		const newPage = page(e.detail.paging.currentPage, e.detail.paging.itemsPerPage, richDataTablePagingData);
	        	    			console.log(newPage[0]);
	            				richDataTablePaging.data = newPage;
		            		});
	    	        	});
		            &lt;/script&gt;
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table id="rich-data-table-paging">
                    <vl-rich-data-field data-vl-label="ID" data-vl-selector="id"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Naam" data-vl-selector="name"></vl-rich-data-field>
					<vl-pager id="rich-data-table-paging-pager" slot="pager" total-items="20" items-per-page="5" current-page="1" align-center></vl-pager>
                </vl-rich-data-table>
	            <script>
    	        	customElements.whenDefined('vl-rich-data-table').then(() => {
	    	        	const richDataTablePagingData = [];
	        	    	for (let i = 1; i <= 20; i++) {
	            			richDataTablePagingData.push({"id": i, "name": `Project #${i}`})
	            		}
            	
						function page(page, itemsPerPage, data) {
							const start = (page - 1) * itemsPerPage;
							const end = start + itemsPerPage;
							return data.slice(start, end);
						}	
					
						const richDataTablePaging = document.querySelector("#rich-data-table-paging");
						richDataTablePaging.data = page(1, 5, richDataTablePagingData);
						richDataTablePaging.addEventListener('change', (e) => {
    	    	    		const newPage = page(e.detail.paging.currentPage, e.detail.paging.itemsPerPage, richDataTablePagingData);
        	    			console.log(newPage[0]);
            				richDataTablePaging.data = newPage;
	            		});
    	        	});
	            </script>
            </div>
        </div>

        <div>
            <h2>Rich data table met sortering</h2>
            <pre>
                <code class="line-numbers language-markup">
                    &lt;vl-rich-data-table id=&quot;rich-data-table-sorting&quot;&gt;
                        &lt;vl-rich-data-field data-vl-name=&quot;id&quot; data-vl-label=&quot;ID&quot; data-vl-selector=&quot;id&quot; data-vl-sortable data-vl-sorting-direction=&quot;asc&quot; data-vl-sorting-priority=&quot;3&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-name=&quot;name&quot; data-vl-label=&quot;Naam&quot; data-vl-selector=&quot;name&quot; data-vl-sortable data-vl-sorting-direction=&quot;asc&quot; data-vl-sorting-priority=&quot;2&quot;&gt;&lt;/vl-rich-data-field&gt;
                        &lt;vl-rich-data-field data-vl-name=&quot;owner&quot; data-vl-label=&quot;Eigenaar&quot; data-vl-selector=&quot;owner&quot; data-vl-sortable data-vl-sorting-direction=&quot;desc&quot; data-vl-sorting-priority=&quot;1&quot;&gt;&lt;/vl-rich-data-field&gt;
                    &lt;/vl-rich-data-table&gt;

                    &lt;script&gt;
                        customElements.whenDefined(&apos;vl-rich-data-table&apos;).then(() =&gt; {
                            const richDataTableSorting = document.querySelector(&apos;#rich-data-table-sorting&apos;);
                            const richDataTableSortingData = [
                                {&quot;id&quot;: 0, &quot;name&quot;: &quot;Project #1&quot;, &quot;owner&quot;: &quot;Jan Jansens&quot;},
                                {&quot;id&quot;: 1, &quot;name&quot;: &quot;Project #2&quot;, &quot;owner&quot;: &quot;Jan Jansens&quot;}
                            ];
                            richDataTableSorting.data = richDataTableSortingData;
                            richDataTableSorting.addEventListener(&apos;change&apos;, event =&gt; {
                                const sorting = event.detail.sorting;
                                if (sorting) {
                                    richDataTableSorting.data = [...richDataTableSortingData].sort((firstEl, secondEl) =&gt; {
                                        for (let i = 0; i &lt; sorting.length; i++) {
                                            const criteria = sorting[i];
                                            const firstValue = firstEl[criteria.name];
                                            const secondValue = secondEl[criteria.name];
                                            const isAscending = criteria.direction === &apos;asc&apos;;
                                            if (firstValue &lt; secondValue) {
                                                return isAscending ? -1 : 1;
                                            } else if (firstValue &gt; secondValue) {
                                                return isAscending ? 1 : -1;
                                            }
                                        }

                                        return 0;
                                    });
                                } else {
                                    richDataTableSorting.data = richDataTableSortingData;
                                }
                            });
                        });
                    &lt;/script&gt;
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table id="rich-data-table-sorting">
                    <vl-rich-data-field data-vl-name="id" data-vl-label="ID" data-vl-selector="id" data-vl-sortable data-vl-sorting-direction="asc" data-vl-sorting-priority="3"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-name="name" data-vl-label="Naam" data-vl-selector="name" data-vl-sortable data-vl-sorting-direction="asc" data-vl-sorting-priority="2"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-name="owner" data-vl-label="Eigenaar" data-vl-selector="owner" data-vl-sortable data-vl-sorting-direction="desc" data-vl-sorting-priority="1"></vl-rich-data-field>
                </vl-rich-data-table>
            </div>
            <script>
                customElements.whenDefined('vl-rich-data-table').then(() => {
                    const richDataTableSorting = document.querySelector('#rich-data-table-sorting');
                    const richDataTableSortingData = [
                        {"id": 0, "name": "Project #1", "owner": "Jan Jansens"},
                        {"id": 1, "name": "Project #2", "owner": "Jan Jansens"}
                    ];
                    richDataTableSorting.data = richDataTableSortingData;
                    richDataTableSorting.addEventListener('change', event => {
                        const sorting = event.detail.sorting;
                        if (sorting) {
                            richDataTableSorting.data = [...richDataTableSortingData].sort((firstEl, secondEl) => {
                                for (let i = 0; i < sorting.length; i++) {
                                    const criteria = sorting[i];
                                    const firstValue = firstEl[criteria.name];
                                    const secondValue = secondEl[criteria.name];
                                    const isAscending = criteria.direction === 'asc';
                                    if (firstValue < secondValue) {
                                        return isAscending ? -1 : 1;
                                    } else if (firstValue > secondValue) {
                                        return isAscending ? 1 : -1;
                                    }
                                }

                                return 0;
                            });
                        } else {
                            richDataTableSorting.data = richDataTableSortingData;
                        }
                    });
                });
            </script>
        </div>


        <div>
            <h2>Rich data table responsiveness</h2>
            <pre>
                <code class="line-numbers language-markup">
                </code>
            </pre>
            <div class="demo">
                <vl-rich-data-table id="rich-data-table-responsive" data-vl-collapsed-m  data-vl-data='[{"firstName": "Pascal", "lastName": "Riquier", "birthDate": "22/12/1980", "address": "Kerkstraat 7, 153O Zwevezele"},
                	{"firstName": "Albert", "lastName": "Einstein", "birthDate": "14/03/1879", "address": "Dorpsstraat 145, 9877 Aalbeke"}]'>
                    <vl-rich-data-field data-vl-label="Voornaam" data-vl-selector="firstName"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Achternaam" data-vl-selector="lastName"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Geboortedatum" data-vl-selector="birthDate"></vl-rich-data-field>
                    <vl-rich-data-field data-vl-label="Adres" data-vl-selector="address"></vl-rich-data-field>
                </vl-rich-data-table>
            </div>
        </div>

    </body>
</html>
