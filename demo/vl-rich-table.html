<!DOCTYPE html>
<html class="js">
<head>
  <title>vl-rich-table voorbeeld</title>
  <script type="module" src="demo.js"></script>
  <link rel="stylesheet" type="text/css" href="demo.css">
  <script type="module" src="/vl-rich-table.js"></script>
  <script type="module" src="/node_modules/vl-ui-search-filter/vl-search-filter.js"></script>
  <script type="module" src="/node_modules/vl-ui-select/vl-select.js"></script>
  <script type="module" src="/node_modules/vl-ui-input-field/vl-input-field.js"></script>
  <script type="module" src="/node_modules/vl-ui-datepicker/vl-datepicker.js"></script>
  <script type="module" src="/node_modules/vl-ui-form-message/vl-form-message.js"></script>
  <script>

    const data = [
      {
        id: 1,
        name: "Lorem ipsum1",
        description: "Lorem",
        "tijdstip": "2000-01-12T17:22:33.123456+01:00",
        "datum": "2000-01-12T00:00:00.000000+01:00"
      },
      {
        id: 2,
        name: "Lorem ipsum2",
        description: "ipsum",
        "tijdstip": "2001-02-11T17:22:33.123456+01:00",
        "datum": "2000-01-12T00:00:00.000000+01:00"
      },
      {
        id: 3,
        name: "Lorem ipsum3",
        description: "dolor",
        "tijdstip": "2002-03-10T17:22:33.123456+01:00",
        "datum": "2002-03-10T00:00:00.000000+01:00"
      },
      {
        id: 4,
        name: "Lorem ipsum4",
        description: "sit",
        "tijdstip": "2003-04-09T17:22:33.123456+02:00",
        "datum": "2003-04-09T00:00:00.000000+02:00"
      },
      {
        id: 5,
        name: "Lorem ipsum5",
        description: "amet",
        "tijdstip": "2004-05-08T17:22:33.123456+02:00",
        "datum": "2004-05-08T00:00:00.000000+02:00"
      },
      {
        id: 6,
        name: "Lorem ipsum6",
        description: "consectetur",
        "tijdstip": "2005-06-07T17:22:33.123456+02:00",
        "datum": "2005-06-07T00:00:00.000000+02:00"
      },
      {
        id: 7,
        name: "Lorem ipsum7",
        description: "adipisicing",
        "tijdstip": "2006-07-06T17:22:33.123456+02:00",
        "datum": "2006-07-06T00:00:00.000000+02:00"
      },
      {
        id: 8,
        name: "Lorem ipsum8",
        description: "elit",
        "tijdstip": "2007-08-05T17:22:33.123456+02:00",
        "datum": "2007-08-05T00:00:00.000000+02:00"
      },
      {
        id: 9,
        name: "Lorem ipsum9",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-01-01T01:22:33.123456+01:00",
        "datum": "2019-01-01T00:00:00.000000+01:00"
      },
      {
        id: 10,
        name: "Lorem ipsum10",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-02-02T03:22:33.123456+01:00",
        "datum": "2019-02-02T00:00:00.000000+01:00"
      },
      {
        id: 11,
        name: "Lorem ipsum11",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-03-03T05:22:33.123456+01:00",
        "datum": "2019-03-03T00:00:00.000000+01:00"
      },
      {
        id: 12,
        name: "Lorem ipsum12",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-04-04T07:22:33.123456+02:00",
        "datum": "2019-04-04T00:00:00.000000+02:00"
      },
      {
        id: 13,
        name: "Lorem ipsum13",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-05-05T09:22:33.123456+02:00",
        "datum": "2019-05-05T00:00:00.000000+02:00"
      },
      {
        id: 14,
        name: "Lorem ipsum14",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-06-06T11:22:33.123456+02:00",
        "datum": "2019-06-06T00:00:00.000000+02:00"
      },
      {
        id: 15,
        name: "Lorem ipsum15",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-07-07T13:22:33.123456+02:00",
        "datum": "2019-07-07T00:00:00.000000+02:00"
      },
      {
        id: 16,
        name: "Lorem ipsum16",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-08-08T15:22:33.123456+02:00",
        "datum": "2019-08-08T00:00:00.000000+02:00"
      },
      {
        id: 17,
        name: "Lorem ipsum17",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-09-09T17:22:33.123456+02:00",
        "datum": "2019-09-09T00:00:00.000000+02:00"
      },
      {
        id: 18,
        name: "Lorem ipsum18",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-10-10T19:22:33.123456+02:00",
        "datum": "2019-10-10T00:00:00.000000+02:00"
      },
      {
        id: 19,
        name: "Lorem ipsum19",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-11-11T21:22:33.123456+01:00",
        "datum": "2019-11-11T00:00:00.000000+01:00"
      },
      {
        id: 20,
        name: "Lorem ipsum20",
        description: "Lorem ipsum dolor sit amet, consectetur adipisicing elit.",
        "tijdstip": "2019-12-12T23:22:33.123456+01:00",
        "datum": "2019-12-12T00:00:00.000000+01:00"
      },
    ];

    let size = 9;
    const queryData = (page = 0, search, sort) => {
      const filteredData = data
      .filter(record => {
        if (search && search.name) {
          return record.name
              && record.name.toLocaleLowerCase().includes(search.name.toLocaleLowerCase());
        }
        return true
      })
      .filter(record => {
        if (search && search.datum) {

          if (search.datum.date) {
            return new Date(record.datum).getTime() === search.datum.date.getTime();
          }

          if (search.datum.dateFrom && search.datum.dateTo) {
            const time = new Date(record.datum).getTime();
            return time >= search.datum.dateFrom.getTime() && time <= search.datum.dateTo.getTime();
          }

          return false
        }
        return true;
      })
      .filter(record => {
        if (search && search.description) {
          return record.description
              && record.description.toLocaleLowerCase().includes(search.description.toLocaleLowerCase());
        }
        return true
      });

      const content = filteredData.sort((record1, record2) => {
        const criteria = sort ? sort[0] : null;
        if (criteria) {
          if (criteria.direction === 'desc') {
            return record2[criteria.name].localeCompare(record1[criteria.name]);
          } else {
            return record1[criteria.name].localeCompare(record2[criteria.name]);
          }
        }
        return 0;
      })
      .sort((record1, record2) => {
        let result = 0;
        if (sort) {
          const criteria1 = sort[0],
                criteria2 = sort[1];
          if (criteria1) {
            if (criteria1.direction === 'desc') {
              result = record2[criteria1.name].localeCompare(record1[criteria1.name]);
            } else {
              result = record1[criteria1.name].localeCompare(record2[criteria1.name]);
            }
          }
          if (result === 0 && criteria2) {
            if (criteria2.direction === 'desc') {
              result = record2[criteria2.name].localeCompare(record1[criteria2.name]);
            } else {
              result = record1[criteria2.name].localeCompare(record2[criteria2.name]);
            }
          }
        }
        return result;
      })
      .slice(page * size, page * size + size);
      return {
        content: content,
        size: size,
        totalElements: filteredData.length,
        number: page
      };
    }

  </script>
</head>

<body>

<h1>vl-ui-rich-table demo</h1>

<div>
  <h2>Rich table met dynamische data en custom renderer</h2>
  <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table id=&quot;dynamic-data&quot;&gt;
            &lt;vl-rich-table-field data-value=&quot;id&quot; label=&quot;ID&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field id=&quot;strong-field&quot; data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field id=&quot;date-field&quot; data-value=&quot;date&quot; data-type=&quot;date&quot; label=&quot;Datum (volgens BIN-norm)&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field id=&quot;date-field-with-slash&quot; data-value=&quot;date&quot; data-type=&quot;date&quot; label=&quot;Datum (dd/mm/jjjj)&quot;&gt;&lt;/vl-rich-table-field&gt;
          &lt;/vl-rich-table&gt;
          &lt;button type=&quot;button&quot; onclick=&#39;document.getElementById(&quot;dynamic-data&quot;).data = [{id: 1, name:&quot;Test&quot;, &quot;date&quot;: &quot;2020-01-31&quot;}, {id: 2, name:&quot;Test2&quot;, &quot;date&quot;: &quot;2020-10-01&quot;}, {id: 3, name:&quot;Test3&quot;, &quot;date&quot;: &quot;2020-12-12&quot;}]&#39;&gt;Voeg testdata toe&lt;/button&gt;
          &lt;button type=&quot;button&quot; onclick=&#39;document.getElementById(&quot;dynamic-data&quot;).data = []&#39;&gt;Verwijder data&lt;/button&gt;
          &lt;button type=&quot;button&quot;
                  onclick=&#39;document.getElementById(&quot;strong-field&quot;).renderTableData = (content) =&gt; {const div = document.createElement(&quot;div&quot;); div.innerHTML = &quot;&lt;strong&gt;&quot;+content+&quot;&lt;/strong&gt;&quot;; return div;}&#39;&gt;
            Verander renderer voor naam
          &lt;/button&gt;
          &lt;script&gt;
            const fnDateFormat = (string) =&gt; new Date(string).toLocaleDateString(&#39;nl-BE&#39;, {year: &#39;numeric&#39;, month: &#39;2-digit&#39;, day: &#39;2-digit&#39;});
            document.querySelector(&quot;#date-field-with-slash&quot;).renderTableData = (content) =&gt;  document.createTextNode(fnDateFormat(content));
          &lt;/script&gt;
        </code>
      </pre>
  <div class="demo">
    <vl-rich-table id="dynamic-data">
      <vl-rich-table-field data-value="id" label="ID"></vl-rich-table-field>
      <vl-rich-table-field id="strong-field" data-value="name" label="Naam"></vl-rich-table-field>
      <vl-rich-table-field id="date-field" data-value="date" data-type="date" label="Datum (volgens BIN-norm)"></vl-rich-table-field>
      <vl-rich-table-field id="date-field-with-slash" data-value="date" data-type="date" label="Datum (dd/mm/jjjj)"></vl-rich-table-field>
    </vl-rich-table>
    <button type="button"
            onclick='document.getElementById("dynamic-data").data = [{id: 1, name:"Test", "date": "2020-01-31"}, {id: 2, name:"Test2", "date": "2020-10-01"}, {id: 3, name:"Test3", "date": "2020-12-12"}]'>
      Voeg testdata toe
    </button>
    <button type="button" onclick='document.getElementById("dynamic-data").data = []'>Verwijder data</button>
    <button type="button"
            onclick='document.getElementById("strong-field").renderTableData = (content) => {const div = document.createElement("div"); div.innerHTML = "<strong>"+content+"</strong>"; return div;}'>
      Verander renderer voor naam
    </button>
    <script>
      const fnDateFormat = (string) => new Date(string).toLocaleDateString('nl-BE', {year: 'numeric', month: '2-digit', day: '2-digit'});
      document.querySelector("#date-field-with-slash").renderTableData = (content) => document.createTextNode(fnDateFormat(content));
    </script>
  </div>
</div>

<div>
  <h2>Rich table met voorgedefinieerde data en zebra stijl</h2>
  <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table
              data=&#39;[
                {&quot;id&quot;: 1, &quot;name&quot;: &quot;Lorem ipsum&quot;, &quot;description&quot;: &quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;},
                {&quot;id&quot;: 2, &quot;name&quot;: &quot;Amet aut&quot;, &quot;description&quot;: &quot;Amet aut, blanditiis dignissimos, earum et eveniet explicabo in labore minus odio odit optio, perferendis provident quas quis quod totam vel vero.&quot;}
              ]&#39;
              zebra&gt;
            &lt;vl-rich-table-field data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;description&quot; label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
  <div class="demo">
    <vl-rich-table
        data='[
          {"id": 1, "name": "Lorem ipsum", "description": "Lorem ipsum dolor sit amet, consectetur adipisicing elit."},
          {"id": 2, "name": "Amet aut", "description": "Amet aut, blanditiis dignissimos, earum et eveniet explicabo in labore minus odio odit optio, perferendis provident quas quis quod totam vel vero."}
        ]'
        zebra>
      <vl-rich-table-field data-value="name" label="Naam"></vl-rich-table-field>
      <vl-rich-table-field data-value="description" label="Omschrijving"></vl-rich-table-field>
    </vl-rich-table>
  </div>

  <div>
    <h2>Rich table met voorgedefinieerde data (Spring JPA Rest response)</h2>
    <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table
              data=&#39;{
                     &quot;content&quot;:[
                                {&quot;id&quot;: 1, &quot;name&quot;: &quot;Lorem ipsum&quot;, &quot;description&quot;: &quot;Lorem ipsum dolor sit amet, consectetur adipisicing elit.&quot;},
                                {&quot;id&quot;: 2, &quot;name&quot;: &quot;Amet aut&quot;, &quot;description&quot;: &quot;Amet aut, blanditiis dignissimos, earum et eveniet explicabo in labore minus odio odit optio, perferendis provident quas quis quod totam vel vero.&quot;}
                               ],
                     &quot;size&quot;: 2,
                     &quot;totalElements&quot;:20,
                     &quot;number&quot;: 0
                    }&#39;
              zebra&gt;
            &lt;vl-rich-table-field data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;description&quot; label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
    <div class="demo">
      <vl-rich-table
          data='{
                 "content":[
                            {"id": 1, "name": "Lorem ipsum", "description": "Lorem ipsum dolor sit amet, consectetur adipisicing elit."},
                            {"id": 2, "name": "Amet aut", "description": "Amet aut, blanditiis dignissimos, earum et eveniet explicabo in labore minus odio odit optio, perferendis provident quas quis quod totam vel vero."}
                           ],
                 "size": 2,
                 "totalElements":20,
                 "number": 0
                }'
          zebra>
        <vl-rich-table-field data-value="name" label="Naam"></vl-rich-table-field>
        <vl-rich-table-field data-value="description" label="Omschrijving"></vl-rich-table-field>
      </vl-rich-table>
    </div>
  </div>

  <div>
    <h2>Rich table met pager</h2>
    <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table id=&quot;pageableTable&quot;&gt;
            &lt;vl-rich-table-field data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;description&quot; label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-pager align-right&gt;&lt;/vl-rich-table-pager&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
    <div class="demo">
      <vl-rich-table id="pageableTable">
        <vl-rich-table-field data-value="name" label="Naam"></vl-rich-table-field>
        <vl-rich-table-field data-value="description" label="Omschrijving"></vl-rich-table-field>
        <vl-rich-table-pager align-right></vl-rich-table-pager>
      </vl-rich-table>
    </div>
    Page criteria:<p id="pagecriteria"></p>
    <script>
      const pageableTable = document.querySelector('#pageableTable');
      let page = 0;

      customElements.whenDefined('vl-rich-table').then(() => {
        pageableTable.data = queryData(0, null, null);
      });

      pageableTable.addEventListener('pagechanged', (e) => {
        let criteria = e.detail;
        if (page !== criteria.newPage) {
          page = criteria.newPage;
          document.querySelector('#pagecriteria').innerHTML = JSON.stringify(criteria);
          pageableTable.data = queryData(criteria.newPage - 1, null, null);
        }
      });
    </script>
  </div>

  <div>
    <h2>Sortable</h2>
    <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table id=&quot;sortableTable&quot;&gt;
            &lt;vl-rich-table-field sortable direction=&quot;desc&quot; priority=&quot;2&quot; data-value=&quot;name&quot;
                                 label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field sortable direction=&quot;asc&quot; priority=&quot;1&quot; data-value=&quot;description&quot;
                                 label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
    <div class="demo">
      <vl-rich-table id="sortableTable">
        <vl-rich-table-field sortable direction="desc" priority="2" data-value="name"
                             label="Naam"></vl-rich-table-field>
        <vl-rich-table-field sortable direction="asc" priority="1" data-value="description"
                             label="Omschrijving"></vl-rich-table-field>
      </vl-rich-table>
      Sort criteria:<p id="sortcriteria"></p>
      <script>
        const sortableTable = document.querySelector('#sortableTable');

        customElements.whenDefined('vl-rich-table').then(() => {
          sortableTable.data = queryData(0, null, null);
        });

        document.querySelector('#sortableTable').addEventListener('sort', (e) => {
          let criteria = e.detail.sortCriteria;
          document.querySelector('#sortcriteria').innerHTML = JSON.stringify(criteria);
          document.querySelector('#sortableTable').data = queryData(null, null, criteria);
        });
      </script>
    </div>
  </div>

  <div>
    <h2>Search</h2>
    <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table id=&quot;searchableTable&quot;&gt;
            &lt;vl-rich-table-field data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;description&quot; label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;datum&quot; data-type=&quot;date&quot; label=&quot;Datum&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;div slot=&quot;filter&quot; data-vl-closable=&quot;false&quot;&gt;
              &lt;input is=&quot;vl-input-field&quot; data-vl-search-criterium=&quot;name&quot; placeholder=&quot;Zoeken op naam...&quot;&gt;
              &lt;div&gt;
                &lt;label is=&quot;vl-form-label&quot; for=&quot;search-filter-date&quot;&gt;Datum&lt;/label&gt;
                &lt;vl-datepicker id=&quot;search-filter-date&quot; data-vl-search-criterium=&quot;datum&quot;&gt;&lt;/vl-datepicker&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
    <div class="demo">
      <vl-rich-table id="searchableTable">
        <vl-rich-table-field data-value="name" label="Naam"></vl-rich-table-field>
        <vl-rich-table-field data-value="description" label="Omschrijving"></vl-rich-table-field>
        <vl-rich-table-field data-value="datum" data-type="date" label="Datum"></vl-rich-table-field>
        <div slot="filter" data-vl-closable="false">
          <input is="vl-input-field" data-vl-search-criterium="name" placeholder="Zoeken op naam...">
          <div>
            <label is="vl-form-label" for="search-filter-date">Datum</label>
            <vl-datepicker id="search-filter-date" data-vl-search-criterium="datum"></vl-datepicker>
          </div>
        </div>
      </vl-rich-table>
      Search criteria:<p id="searchCriteria"></p>
      <script>
        const searchableTable = document.querySelector('#searchableTable');
        customElements.whenDefined('vl-rich-table').then(() => {
          searchableTable.data = queryData(0, null, null);
        });
        searchableTable.addEventListener('search', (e) => {
          document.querySelector('#searchCriteria').innerHTML = JSON.stringify(
              e.detail.searchCriteria);
          searchableTable.data = queryData(null, e.detail.searchCriteria, null);
        });
      </script>
    </div>
  </div>

  <div>
    <h2>Search, sort en paginatie gecombineerd met search filter</h2>
    <pre>
        <code class="line-numbers language-markup">
          &lt;vl-rich-table id=&quot;gecombineerd&quot;&gt;
            &lt;vl-rich-table-field sortable direction=&quot;desc&quot; priority=&quot;2&quot; data-value=&quot;name&quot; label=&quot;Naam&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field sortable direction=&quot;asc&quot; priority=&quot;1&quot;
                                 data-value=&quot;description&quot; label=&quot;Omschrijving&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;tijdstip&quot; data-type=&quot;datetime&quot;
                                 label=&quot;Tijdstip&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-field data-value=&quot;datum&quot; data-type=&quot;date&quot;
                                 label=&quot;Datum&quot;&gt;&lt;/vl-rich-table-field&gt;
            &lt;vl-rich-table-pager align-right total-items=&quot;100&quot; items-per-page=&quot;10&quot;
                                 current-page=&quot;1&quot;&gt;&lt;/vl-rich-table-pager&gt;
            &lt;div slot=&quot;filter&quot; is=&quot;vl-search-filter&quot; data-vl-title=&quot;Verfijn uw zoekopdracht&quot; alt data-vl-closed-on-start&gt;
              &lt;style&gt;
                @import &quot;/node_modules/vl-ui-search-filter/style.css&quot;;
              &lt;/style&gt;
              &lt;form novalidate&gt;
                &lt;section&gt;
                  &lt;div&gt;
                    &lt;label is=&quot;vl-form-label&quot; for=&quot;search-filter-name&quot;&gt;Naam&lt;/label&gt;
                    &lt;select is=&quot;vl-select&quot; data-vl-select id=&quot;search-filter-name&quot; data-vl-search-criterium=&quot;name&quot; data-vl-select-deletable&gt;
                      &lt;option placeholder value=&quot;&quot;&gt;Kies een naam&lt;/option&gt;
                      &lt;option value=&quot;Lorem ipsum&quot;&gt;Lorem ipsum&lt;/option&gt;
                      &lt;option value=&quot;Lorem ipsum7&quot;&gt;Lorem ipsum7&lt;/option&gt;
                      &lt;option value=&quot;Amet aut&quot;&gt;Amet aut&lt;/option&gt;
                    &lt;/select&gt;
                  &lt;/div&gt;
                  &lt;div&gt;
                    &lt;label is=&quot;vl-form-label&quot; for=&quot;search-filter-date-range&quot;&gt;Datum&lt;/label&gt;
                    &lt;vl-datepicker id=&quot;search-filter-date-range&quot; type=&quot;range&quot; data-vl-search-criterium=&quot;datum&quot;&gt;&lt;/vl-datepicker&gt;
                  &lt;/div&gt;
                  &lt;div&gt;
                    &lt;label is=&quot;vl-form-label&quot; for=&quot;search-filter-description&quot;&gt;Omschrijving&lt;/label&gt;
                    &lt;input is=&quot;vl-input-field&quot; type=&quot;text&quot; id=&quot;search-filter-description&quot; data-vl-search-criterium=&quot;description&quot; value=&quot;&quot; block/&gt;
                  &lt;/div&gt;
                &lt;/section&gt;
              &lt;/form&gt;
            &lt;/div&gt;
          &lt;/vl-rich-table&gt;
        </code>
      </pre>
    <div class="demo">
      <vl-rich-table id="gecombineerd">
        <vl-rich-table-field sortable direction="desc" priority="2" data-value="name" label="Naam"></vl-rich-table-field>
        <vl-rich-table-field sortable direction="asc" priority="1"
                             data-value="description" label="Omschrijving"></vl-rich-table-field>
        <vl-rich-table-field data-value="tijdstip" data-type="datetime"
                             label="Tijdstip"></vl-rich-table-field>
        <vl-rich-table-field data-value="datum" data-type="date"
                             label="Datum"></vl-rich-table-field>
        <vl-rich-table-pager align-right total-items="100" items-per-page="10"
                             current-page="1"></vl-rich-table-pager>
        <div slot="filter" is="vl-search-filter" data-vl-title="Verfijn uw zoekopdracht" alt data-vl-closed-on-start>
          <style>
            @import "/node_modules/vl-ui-search-filter/style.css";
          </style>
          <form novalidate>
            <section>
              <div>
                <label is="vl-form-label" for="search-filter-name">Naam</label>
                <select is="vl-select" data-vl-select id="search-filter-name" data-vl-search-criterium="name" data-vl-select-deletable>
                  <option placeholder value="">Kies een naam</option>
                  <option value="Lorem ipsum">Lorem ipsum</option>
                  <option value="Lorem ipsum7">Lorem ipsum7</option>
                  <option value="Amet aut">Amet aut</option>
                </select>
              </div>
              <div>
                <label is="vl-form-label" for="search-filter-date-range">Datum</label>
                <vl-datepicker id="search-filter-date-range" type="range" data-vl-search-criterium="datum"></vl-datepicker>
              </div>
              <div>
                <label is="vl-form-label" for="search-filter-description">Omschrijving</label>
                <input is="vl-input-field" type="text" id="search-filter-description" data-vl-search-criterium="description" value="" block/>
              </div>
            </section>
          </form>
        </div>
      </vl-rich-table>
      <script>
        const gecombineerd = document.querySelector('#gecombineerd');
        let searchCriteria;
        let currentPage = 0;
        let sortCriteria;

        customElements.whenDefined('vl-rich-table').then(() => {
          gecombineerd.data = queryData(0, null, null);
        });

        const query = () => {
          gecombineerd.data = queryData(currentPage - 1, searchCriteria, sortCriteria);
        };

        gecombineerd.addEventListener('search', (e) => {
          currentPage = 1;
          searchCriteria = e.detail.searchCriteria;
          currentPage = 1;
          query();
        });

        gecombineerd.addEventListener('pagechanged', (e) => {
          if (currentPage !== e.detail.newPage) {
            currentPage = e.detail.newPage;
            query();
          }
        });
        gecombineerd.addEventListener('sort', (e) => {
          currentPage = 1;
          sortCriteria = e.detail.sortCriteria;
          query();
        });
      </script>
    </div>
  </div>
</div>
</body>
</html>
